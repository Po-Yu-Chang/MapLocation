<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="MapLocationApp.Views.SettingsPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Ë®≠ÂÆö"
             Background="{StaticResource BackgroundBrush}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            
            <!-- È†ÅÈù¢Ê®ôÈ°å -->
            <Label Text="ÊáâÁî®Á®ãÂºèË®≠ÂÆö" Style="{StaticResource PageTitle}"/>

            <!-- Ë™ûË®ÄË®≠ÂÆöÂç°Áâá -->
            <Border Style="{StaticResource ModernCard}">
                <VerticalStackLayout Spacing="16">
                    <HorizontalStackLayout Spacing="12">
                        <Label Text="üåç" FontSize="24"/>
                        <Label Text="Ë™ûË®ÄË®≠ÂÆö" Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>
                    
                    <VerticalStackLayout Spacing="12">
                        <Label Text="ÈÅ∏ÊìáÊáâÁî®Á®ãÂºèË™ûË®Ä" Style="{StaticResource BodyText}"/>
                        <Picker x:Name="LanguagePicker"
                                Style="{StaticResource ModernPicker}"
                                SelectedIndexChanged="OnLanguageChanged">
                            <Picker.Items>
                                <x:String>ÁπÅÈ´î‰∏≠Êñá (Traditional Chinese)</x:String>
                                <x:String>ÁÆÄ‰Ωì‰∏≠Êñá (Simplified Chinese)</x:String>
                                <x:String>English</x:String>
                                <x:String>Êó•Êú¨Ë™û (Japanese)</x:String>
                                <x:String>ÌïúÍµ≠Ïñ¥ (Korean)</x:String>
                            </Picker.Items>
                        </Picker>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- ‰∏ªÈ°åË®≠ÂÆöÂç°Áâá -->
            <Border Style="{StaticResource ModernCard}">
                <VerticalStackLayout Spacing="16">
                    <HorizontalStackLayout Spacing="12">
                        <Label Text="üé®" FontSize="24"/>
                        <Label Text="‰∏ªÈ°åË®≠ÂÆö" Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>
                    
                    <VerticalStackLayout Spacing="12">
                        <Label Text="ÈÅ∏ÊìáÂ§ñËßÄ‰∏ªÈ°å" Style="{StaticResource BodyText}"/>
                        <Picker x:Name="ThemePicker"
                                Style="{StaticResource ModernPicker}"
                                SelectedIndexChanged="OnThemeChanged">
                            <Picker.Items>
                                <x:String>üåû Ê∑∫Ëâ≤Ê®°Âºè</x:String>
                                <x:String>üåô Ê∑±Ëâ≤Ê®°Âºè</x:String>
                                <x:String>üîÑ Ëá™Âãï (Ë∑üÈö®Á≥ªÁµ±)</x:String>
                            </Picker.Items>
                        </Picker>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- ‰ΩçÁΩÆË®≠ÂÆöÂç°Áâá -->
            <Border Style="{StaticResource ModernCard}">
                <VerticalStackLayout Spacing="16">
                    <HorizontalStackLayout Spacing="12">
                        <Label Text="üìç" FontSize="24"/>
                        <Label Text="‰ΩçÁΩÆÊúçÂãô" Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>
                    
                    <VerticalStackLayout Spacing="12">
                        <HorizontalStackLayout>
                            <Label Text="ÂïüÁî®È´òÁ≤æÂ∫¶ÂÆö‰Ωç" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Switch x:Name="HighAccuracySwitch" HorizontalOptions="EndAndExpand" Toggled="OnHighAccuracyToggled"/>
                        </HorizontalStackLayout>
                        
                        <HorizontalStackLayout>
                            <Label Text="ËÉåÊôØ‰ΩçÁΩÆÊõ¥Êñ∞" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Switch x:Name="BackgroundLocationSwitch" HorizontalOptions="EndAndExpand" Toggled="OnBackgroundLocationToggled"/>
                        </HorizontalStackLayout>
                        
                        <HorizontalStackLayout>
                            <Label Text="Ëá™ÂãïÂú∞ÁêÜÂúçÊ¨ÑÊ™¢Ê∏¨" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Switch x:Name="GeofenceDetectionSwitch" HorizontalOptions="EndAndExpand" Toggled="OnGeofenceDetectionToggled"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- ÈÄöÁü•Ë®≠ÂÆöÂç°Áâá -->
            <Border Style="{StaticResource ModernCard}">
                <VerticalStackLayout Spacing="16">
                    <HorizontalStackLayout Spacing="12">
                        <Label Text="üîî" FontSize="24"/>
                        <Label Text="ÈÄöÁü•Ë®≠ÂÆö" Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>
                    
                    <VerticalStackLayout Spacing="12">
                        <HorizontalStackLayout>
                            <Label Text="ÊâìÂç°ÊèêÈÜí" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Switch x:Name="CheckInNotificationSwitch" HorizontalOptions="EndAndExpand" Toggled="OnCheckInNotificationToggled"/>
                        </HorizontalStackLayout>
                        
                        <HorizontalStackLayout>
                            <Label Text="Âú∞ÁêÜÂúçÊ¨ÑÈÄ≤Âá∫ÈÄöÁü•" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Switch x:Name="GeofenceNotificationSwitch" HorizontalOptions="EndAndExpand" Toggled="OnGeofenceNotificationToggled"/>
                        </HorizontalStackLayout>
                        
                        <HorizontalStackLayout>
                            <Label Text="ÂúòÈöä‰ΩçÁΩÆÂàÜ‰∫´ÈÄöÁü•" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Switch x:Name="TeamNotificationSwitch" HorizontalOptions="EndAndExpand" Toggled="OnTeamNotificationToggled"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- Ë≥áÊñôÁÆ°ÁêÜÂç°Áâá -->
            <Border Style="{StaticResource ModernCard}">
                <VerticalStackLayout Spacing="16">
                    <HorizontalStackLayout Spacing="12">
                        <Label Text="üíæ" FontSize="24"/>
                        <Label Text="Ë≥áÊñôÁÆ°ÁêÜ" Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>
                    
                    <VerticalStackLayout Spacing="12">
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                            <Button Grid.Column="0"
                                    Text="üì§ ÂåØÂá∫Ë≥áÊñô"
                                    Style="{StaticResource OutlineButton}"
                                    Clicked="OnExportDataClicked"/>
                            
                            <Button Grid.Column="1"
                                    Text="üì• ÂåØÂÖ•Ë≥áÊñô"
                                    Style="{StaticResource OutlineButton}"
                                    Clicked="OnImportDataClicked"/>
                        </Grid>
                        
                        <Button Text="üóëÔ∏è Ê∏ÖÈô§Âø´Âèñ"
                                Style="{StaticResource SecondaryButton}"
                                Clicked="OnClearCacheClicked"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- ÈóúÊñºË≥áË®äÂç°Áâá -->
            <Border Style="{StaticResource ModernCard}">
                <VerticalStackLayout Spacing="16">
                    <HorizontalStackLayout Spacing="12">
                        <Label Text="‚ÑπÔ∏è" FontSize="24"/>
                        <Label Text="ÊáâÁî®Á®ãÂºèË≥áË®ä" Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>
                    
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout>
                            <Label Text="ÁâàÊú¨:" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Label Text="1.0.0" Style="{StaticResource BodyText}" FontAttributes="Bold" HorizontalOptions="EndAndExpand"/>
                        </HorizontalStackLayout>
                        
                        <HorizontalStackLayout>
                            <Label Text="Âª∫ÁΩÆ:" Style="{StaticResource BodyText}" VerticalOptions="Center"/>
                            <Label Text="20241201" Style="{StaticResource BodyText}" FontAttributes="Bold" HorizontalOptions="EndAndExpand"/>
                        </HorizontalStackLayout>
                        
                        <Button Text="üìÑ Êü•ÁúãÈö±ÁßÅÊîøÁ≠ñ"
                                Style="{StaticResource OutlineButton}"
                                Clicked="OnPrivacyPolicyClicked"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>